<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">

</head>
<body>
<button id="open">
    open
</button>
<button id="send">
    发送
</button>
<button id="close">
    close
</button>
</body>
<script>
    var ws
    document.getElementById("open").onclick = function (evt){
        ws = new WebSocket("ws://localhost:8080/api/v1/project/log?username=octane0411&repoName=go-demo-1")
        ws.onopen = function (evt) {
            console.log("open")
        }

        ws.onmessage = function (evt) {
            console.log("receive", evt.data)
        }

        ws.onclose = function (evt) {
            console.log("close")
        }

    }
    document.getElementById("send").onclick = function (evt){
        ws.send("hello")
    }
    document.getElementById("close").onclick = function (evt){
        ws.close()
    }

</script>
</html>